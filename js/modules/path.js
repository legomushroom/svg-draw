// Generated by CoffeeScript 1.6.2
(function() {
  define('path', ['two', 'jquery'], function(Two, $) {
    var Path;

    Path = (function() {
      function Path(o) {
        var vert, _i, _len, _ref,
          _this = this;

        this.o = o != null ? o : {};
        this.line = App.two.makeLine(this.o.coords.x, this.o.coords.y, this.o.coords.x, this.o.coords.y);
        this.line.noFill().stroke = this.o.strokeColor || "#00DFFC";
        this.line.linewidth = this.o.strokeWidth || 2;
        _ref = this.line.vertices;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          vert = _ref[_i];
          vert.addSelf(this.line.translation);
        }
        this.line.translation.clear();
        setTimeout((function() {
          _this.$dom = $("#two-" + _this.line.id);
          return _this.addMarkers();
        }), 25);
      }

      Path.prototype.removeIfEmpty = function() {
        return this.line.vertices.length === 2 && this.line.remove();
      };

      Path.prototype.addPoint = function(coords) {
        this.line.vertices.push(coords);
        return this.addMarkers();
      };

      Path.prototype.addMarkers = function() {
        return this.$dom.attr('marker-mid', "url('#marker-mid')");
      };

      Path.prototype.simplify = function(n) {
        if (n == null) {
          n = 2;
        }
      };

      return Path;

    })();
    return Path;
  });

}).call(this);
